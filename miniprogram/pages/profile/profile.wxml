<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- æœªç™»å½•çŠ¶æ€ -->
  <view wx:if="{{!userInfo}}" class="login-prompt" bindtap="goToLogin">
    <view class="login-icon">ğŸ‘¤</view>
    <text class="login-text">æœªç™»å½•</text>
    <text class="login-tip">ç‚¹å‡»ç™»å½•</text>
  </view>

  <!-- å·²ç™»å½•çŠ¶æ€ -->
  <view wx:else>
    <!-- ç”¨æˆ·ä¿¡æ¯ -->
    <view class="user-card">
      <image class="avatar" src="{{userInfo.avatar_url}}" mode="aspectFill"></image>
      <text class="nickname">{{userInfo.nickname || 'å¾®ä¿¡ç”¨æˆ·'}}</text>
    </view>

    <!-- å­¦ä¹ ç»Ÿè®¡ -->
    <view class="stats-card">
      <view class="stats-grid">
        <view class="stat-item">
          <text class="stat-value">{{stats.todayWords || 0}}</text>
          <text class="stat-label">ä»Šæ—¥å­¦ä¹ </text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{stats.totalWords || 0}}</text>
          <text class="stat-label">ç´¯è®¡å•è¯</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{stats.continuousDays || 0}}</text>
          <text class="stat-label">è¿ç»­å¤©æ•°</text>
        </view>
      </view>
    </view>

    <!-- å­¦ä¹ æ•°æ® -->
    <view class="data-card">
      <view class="data-item">
        <text class="data-value">{{userInfo.total_learn_days || 0}}</text>
        <text class="data-label">å­¦ä¹ å¤©æ•°</text>
      </view>
      <view class="data-item">
        <text class="data-value">{{userInfo.continuous_days || 0}}</text>
        <text class="data-label">è¿ç»­æ‰“å¡</text>
      </view>
      <view class="data-item">
        <text class="data-value">{{userInfo.total_words || 0}}</text>
        <text class="data-label">å­¦ä¹ å•è¯</text>
      </view>
    </view>

    <!-- åŠŸèƒ½åˆ—è¡¨ -->
    <view class="menu-list">
      <view class="menu-item">
        <text class="menu-text">è®¾ç½®</text>
        <text class="arrow">â€º</text>
      </view>
      <view class="menu-item">
        <text class="menu-text">å…³äº</text>
        <text class="arrow">â€º</text>
      </view>
    </view>

    <!-- é€€å‡ºç™»å½• -->
    <button class="btn-logout" bindtap="handleLogout">é€€å‡ºç™»å½•</button>
  </view>
</view>